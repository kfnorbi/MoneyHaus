<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/template/masterLayout.xhtml">

    <ui:define name="title">Főoldal</ui:define>

    <ui:define name="content-main">
        <h:form id="main-form">
            <p:growl id="growl" showDetail="true" sticky="true" />  

            <p:selectManyMenu id="advanced" value="#{homeMBean.selected}" filter="true" filterMatchMode="contains" showCheckbox="true" style="float:left">
                <f:selectItems value="#{homeMBean.retrieveAllManagedCurrencies()}" var="currency" />

                <!--<p:ajax update="chart" />--> 
                <p:column>
                    <h:outputText value="#{currency}" title="Valutakód">
                    </h:outputText>
                </p:column>
            </p:selectManyMenu>


            <p:calendar id="startTime" value="#{homeMBean.startDate}" pattern="MM/dd/yyyy" maxdate="#{homeMBean.endDate}" required="true" requiredMessage="Kötelező kezdeti dátumot megadni" style="float:left">
                <p:ajax update="growl"/>
            </p:calendar>
            <p:calendar id="endTime" value="#{homeMBean.endDate}" pattern="MM/dd/yyyy" required="true" mindate="#{homeMBean.startDate}" maxdate="#{homeMBean.retrieveCurrentDate()}" requiredMessage="Kötelező végdátumot megadni" style="float:left">
                <p:ajax update="growl"/>
            </p:calendar>

            <p:commandButton value="Betöltés" update="main-form" style="float:left"/>

            <p:chart id="chart" type="line" model="#{homeMBean.lineChartModel}" style="height:300px;" 
                     rendered="#{homeMBean.endDate != null and homeMBean.startDate != null}"/>
        </h:form>
    </ui:define>

</ui:composition>